import 'dart:math';

class TemplateNamingService {
  static Random _random = Random();

  // 分类特定的形容词
  static final Map<String, List<String>> _categoryAdjectives = {
    '照片': ['清新', '唯美', '自然', '温暖', '明亮', '精致', '简约', '高级', '文艺', '复古'],
    '插画': ['创意', '可爱', '趣味', '手绘', '童趣', '艺术', '插画风', '卡通', '萌系', '治愈'],
    '壁纸': ['高清', '精美', '质感', '时尚', '典雅', '简约', '格调', '优雅', '清新', '大气'],
    '自然': ['野趣', '自然', '生态', '绿意', '清新', '原始', '纯净', '静谧', '壮丽', '秀美'],
    '3D': ['立体', '科技', '未来', '炫酷', '现代', '几何', '空间', '梦幻', '创意', '潮流'],
    '纹理': ['质感', '肌理', '细腻', '抽象', '几何', '现代', '艺术', '简约', '高级', '精致'],
    '建筑': ['宏伟', '现代', '古典', '简约', '艺术', '时尚', '典雅', '大气', '精致', '优雅'],
    '旅行': ['探索', '远方', '自由', '浪漫', '文艺', '温暖', '清新', '自然', '休闲', '轻松'],
    '电影': ['电影感', '光影', '戏剧', '艺术', '氛围感', '质感', '复古', '文艺', '唯美', '浪漫'],
    '街拍': ['潮流', '时尚', '街头', '随性', '文艺', '生活', '日常', '写实', '自然', '休闲'],
    '人物': ['人文', '温暖', '自然', '生活', '真实', '情感', '故事感', '文艺', '清新', '简约'],
    '动物': ['可爱', '萌趣', '自然', '野趣', '生动', '治愈', '温暖', '有趣', '活力', '趣味'],
    '实验': ['创意', '实验', '前卫', '艺术', '独特', '新锐', '现代', '抽象', '概念', '未来'],
    '时尚': ['时尚', '潮流', '优雅', '高级', '精致', '质感', '轻奢', '简约', '现代', '格调'],
    '美食': ['美味', '诱人', '精致', '创意', '清新', '温暖', '文艺', '生活', '质感', '高级'],
    '运动': ['活力', '动感', '激情', '青春', '阳光', '健康', '运动风', '潮流', '时尚', '活力'],
    '健康': ['健康', '阳光', '活力', '自然', '清新', '温暖', '生活', '轻松', '简约', '舒适'],
  };

  // 分类特定的主题词
  static final Map<String, List<String>> _categoryThemes = {
    '照片': ['日常', '街景', '人像', '风光', '静物', '城市', '自然', '生活', '光影', '瞬间'],
    '插画': ['场景', '人物', '动物', '植物', '风景', '物件', '图案', '故事', '概念', '元素'],
    '壁纸': ['背景', '图案', '风景', '概念', '设计', '艺术', '图形', '场景', '主题', '创意'],
    '自然': ['风光', '山水', '花草', '森林', '海洋', '天空', '日落', '云彩', '河流', '星空'],
    '3D': ['场景', '空间', '物件', '概念', '设计', '艺术', '建筑', '人物', '动物', '风景'],
    '纹理': ['图案', '材质', '肌理', '设计', '背景', '图形', '元素', '装饰', '艺术', '创意'],
    '建筑': ['空间', '建筑', '室内', '城市', '街景', '设计', '场景', '风格', '结构', '细节'],
    '旅行': ['风景', '城市', '街道', '建筑', '人文', '美食', '文化', '生活', '探索', '记录'],
    '电影': ['场景', '人物', '故事', '瞬间', '光影', '氛围', '情节', '画面', '表情', '动作'],
    '街拍': ['人物', '场景', '街景', '生活', '时尚', '瞬间', '表情', '动作', '细节', '故事'],
    '人物': ['肖像', '生活', '表情', '动作', '瞬间', '故事', '场景', '情感', '记录', '日常'],
    '动物': ['萌宠', '野生', '特写', '瞬间', '表情', '动作', '场景', '生态', '自然', '故事'],
    '实验': ['创意', '概念', '艺术', '设计', '实验', '图形', '空间', '视觉', '元素', '效果'],
    '时尚': ['搭配', '造型', '妆容', '服饰', '配饰', '场景', '人物', '细节', '风格', '设计'],
    '美食': ['美食', '甜点', '饮品', '料理', '摆盘', '食材', '烘焙', '餐厅', '厨房', '场景'],
    '运动': ['运动', '健身', '瑜伽', '跑步', '球类', '极限', '户外', '场景', '动作', '瞬间'],
    '健康': ['运动', '瑜伽', '冥想', '生活', '饮食', '休闲', '户外', '场景', '活动', '状态'],
  };

  // 生成模板名称
  static String generateName(String category, {int? seed}) {
    if (seed != null) {
      _random = Random(seed);
    }

    final adjectives =
        _categoryAdjectives[category] ?? _categoryAdjectives['照片']!;
    final themes = _categoryThemes[category] ?? _categoryThemes['照片']!;

    final adjective = adjectives[_random.nextInt(adjectives.length)];
    final theme = themes[_random.nextInt(themes.length)];

    // 随机选择命名模式
    final patterns = [
      '$adjective$theme',
      '$adjective的$theme',
      '$theme的$adjective瞬间',
      '$adjective风$theme',
      '$theme$adjective集',
    ];

    return patterns[_random.nextInt(patterns.length)];
  }

  // 批量生成模板名称
  static List<String> generateBatchNames(String category, int count) {
    final Set<String> names = {};
    while (names.length < count) {
      names.add(generateName(category));
    }
    return names.toList();
  }
}
